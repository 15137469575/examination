<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>Title</title>
		<script src="js/echarts.js"></script>
		<script src="js/jquery-3.6.0.min.js"></script>
		<style>
			#main {
				visibility: hidden;
				width: 800px;
				height: 600px;
			}
		</style>
	</head>
	<body>
		<input id="examId" type="text" name="examId">
		<button id="display" onclick="display()">显示</button>
		<div id="main">

		</div>
	</body>

	<script>
		function display(){
			let examId = document.getElementById("examId").value;
			
			$.ajax({
				type: "post",
				url: "/scoreDisplay/getAllScores",
				data: {"examId" : examId},
				success: (rst) => {
					console.log(rst);
					let dom = document.getElementById("main");
					dom.style.visibility = "visible";
					let echart = echarts.init(dom);
					let option = {
						title : {
							text : "pie graph"
						},
						legend: {
							data: [{
								name: "radio"
							}]
						},
						xAxis: {
							data: ["0To9","10To19","20To30"]
						},
						yAxis:{
							
						},
						series: [
							{
								name: "radio",
								type: "bar",
								data: rst
							}
						]
					}
					echart.setOption(option);
				},
				error: (rst) => {
					
				}
			})
		}

	</script>
</html>
